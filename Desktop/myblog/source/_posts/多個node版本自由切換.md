---
layout:
title: 小孩子才做選擇，我全都要!多個node版本自由切換
date: 2022-08-09 10:01:45
tags:
---

需要切換 node 版本，相信應該不是所有人都會有機會遇到
因為如果上班是使用公司電腦的話，基本上只需要有公司專案的 node 版本就好，但今天筆者的情況比較特殊：工作也需要使用自己的電腦，其實基本上如果公司要求的版本大於 14 版，應該還夠用，但今天公司使用的版本是 12.16.3…
至於為什麼會用這個版本，其實我也不清楚，因為當初的工程師都走光了…，但遇到問題還是要解決，難道我要刪掉現在用的 node 版本？改裝公司的 node 版本？
爬文以後發現一個很酷的東西 NVM(Node Version Manager)，看英文就可以知道他是一個版本管理工具
前面鋪成有點久了，我們直接進入重點(以下方式只適用 Mac)
終端機輸入

```js
curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh | bash
```

確認是否安裝成功

```js
command -v nvm
```

如果安裝成功，現在開始是重頭戲
安裝 node 版本

```js
nvm install (node 版本號)
例如: nvm install 16.15
```

查看目前擁有的所有 node 版本號

```js
nvm list
```

使用特定的版本號(只限有下載的版本，如果沒有這個版本號，請先下載喔)，如果不確定有沒有這個版本號，可以使用 nvm ls 去查詢

```js
nvm use (node 版本號)
nvm use 16.15
```

恭喜你現在可以自由切換版本號了，但是…
凡事都怕個但是…，但是這樣我每天上班都要切換一次誒，很麻煩，有沒有方法可以讓他預設使用某一個版本號
其實是有的，今天如果在終端機上輸入

```js
nvm alias default (node 版本號)
例如: nvm alias default 16.15
```

這時候你的 node 版本號，就會使用預設的版本號
基本上到這裡都已經差不多了，但如果今天如果想做一個專案，版本要用 16 版以上
早上在公司用 12 版(預設)，回家用 16 版，每次回家都要切換到 16 版，感覺也不是這麼方便
所以爬文後發現一個有趣的套件 [AVN](https://www.npmjs.com/package/avn)
AVN 可以讓你的專案，使用特殊的 node 版本
使用方式也很簡單

```js
npm install -g avn avn-nvm avn-n
```

然後在你的專案根目錄新增一個叫  .node-version 的資料夾，並且把你想要的 node 版本號寫在裡面

```js
16.15;
```

然後再到終端機輸入

```js
avn setup
```

完成以後，把專案關掉，從新開啟
這時候你會看到終端機會印出以下文字

```js
avn activated 16.15 (avn-nvm v16.15.0)
```

如果看到上方文字代表你的這個專案，目前是使用 node 16.15 版本，當然會依你所選擇的版本號為主，不一定是 16.15
以上就是 nvm 跟 avn 簡單的介紹，我們下次見～～
